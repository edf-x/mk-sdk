<html>

<head>
    <meta charset="utf-8">
</head>

<body>
    <div id='div1'></div>
    <button type="button" onClick='aa()'>登录</button>
    <script src='require.js'></script>
    <script>

        aa = function () {
            MK.showModal({
                title: '登录',
                width: 800,
                bodyStyle: { height: 600 },
                footer: null,
                //children: MK.createElement('div', null, 'rffff'),
                children: MK.loadApp('mk-app-root')
            }).then(ret => {
                console.log(ret)
                debugger
            })
        }
        __mkAppPublicPath__ = '/apps'
        window.mkReady = function (mk) {

            /*
            mk.utils.fetch.config({
                mock: false
            })
            */

            mk.requireApps(require, [
                'https://unpkg.com/mk-app-root/dist/mk-app-root.js',
                'https://unpkg.com/mk-app-login/dist/mk-app-login.js',
                'https://unpkg.com/mk-app-portal/dist/mk-app-portal.js',
            ], (apps) => {
                apps['mk-app-root'].config({ startAppName: login.name })
                apps['mk-app-login'].config({ goAfterLogin: { appName: portal.name } })
                mk.render('mk-app-root', 'div1')
            })
        }
    </script>
    <script src='mk.debug.js'></script>
</body>

</html>